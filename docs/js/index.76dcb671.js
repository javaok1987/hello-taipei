(function(t){function e(e){for(var a,o,s=e[0],c=e[1],u=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={index:0},i=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-libs"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0025":function(t,e,r){},"11bb":function(t,e,r){"use strict";var a=r("d149"),n=r.n(a);n.a},"30db":function(t,e,r){"use strict";var a=r("0025"),n=r.n(a);n.a},3402:function(t,e,r){"use strict";var a=r("87c2"),n=r.n(a);n.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("header",[r("router-link",{attrs:{to:"/"}},[r("h1",{staticClass:"app-logo"},[t._v("臺北旅遊網")])])],1),r("router-view")],1)},i=[],o=(r("5c0b"),r("2877")),s={},c=Object(o["a"])(s,n,i,!1,null,null,null),u=c.exports,l=r("8c4f"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"list"},[r("SearchResultTable")],1)},f=[],p=(r("96cf"),r("1da1")),m="fetchAttractionInfo",g="fetchAttractionList",h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"search-result-table"},t._l(t.tableData,(function(t){return r("Card",{key:t.id,attrs:{aid:t.id,name:t.name,introduction:t.introduction,distric:t.distric,address:t.address,category:t.category,images:t.images}})})),1)},b=[],v=r("5530"),y=r("2f62"),_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("router-link",{staticClass:"card-link",attrs:{to:"./"+t.aid}},[r("div",{staticClass:"card-thumb"},[r("figure",[r("img",{attrs:{src:t.getAvatar,alt:t.name}})]),r("div",{staticClass:"card-content__meta"},[t._v(" "+t._s(t.distric)+" ")])]),r("div",{staticClass:"card-content"},[r("div",{staticClass:"card-content__header",attrs:{title:t.name}},[t._v(t._s(t.name))]),r("div",{staticClass:"card-content__address",attrs:{title:t.address}},[t._v(" "+t._s(t.address)+" ")]),r("div",{staticClass:"card-content__description"},[t._v(" "+t._s(t.introduction)+" ")]),r("TagList",{attrs:{tags:t.category}})],1)])],1)},O=[],C=(r("a9e3"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"tag-list"},t._l(t.tags,(function(e){return r("li",{key:e.id,staticClass:"tag"},[r("span",{domProps:{textContent:t._s(e.name)}})])})),0)}),w=[],L={name:"TagList",props:{tags:{type:Array,required:!1,default:function(){return[]}}}},R=L,E=(r("11bb"),Object(o["a"])(R,C,w,!1,null,"75741924",null)),T=E.exports,j={name:"Card",components:{TagList:T},props:{aid:{type:Number,required:!0,default:0},name:{type:String,required:!0,default:""},introduction:{type:String,required:!1,default:""},distric:{type:String,required:!1,default:""},address:{type:String,required:!1,default:""},category:{type:Array,required:!1,default:function(){return[]}},images:{type:Array,required:!1,default:function(){return[]}},url:{type:String,required:!1,default:""}},computed:{getAvatar:function(){return this.images&&0!==this.images.length?"".concat(this.images[0].src):""}}},k=j,A=(r("e60d"),Object(o["a"])(k,_,O,!1,null,null,null)),I=A.exports,x={name:"SearchResultTable",components:{Card:I},props:{items:{type:String,required:!1,default:"array"}},computed:Object(v["a"])({},Object(y["b"])({searchForm:function(t){return t.form},tableData:function(t){return t.attractionList},totalLen:function(t){return t.total}}))},S=x,M=Object(o["a"])(S,h,b,!1,null,null,null),P=M.exports,N=(r("7db0"),r("ade3")),D="setAttractionID",q="setAttractionList",B="setAttractionListSize",$=(r("99af"),r("d3b7"),r("bc3a")),F=r.n($),H=F.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_API,timeout:15e3,headers:{"Content-Type":"text/html; charset=utf-8"}});H.interceptors.request.use((function(t){return t}),(function(t){return window.console.log("debug(request): ",t),Promise.reject(t)})),H.interceptors.response.use((function(t){return t.data}),(function(t){return window.console.log("debug(response): ",t),Promise.reject(t)}));var z,G,U={get:function(t,e){return new Promise((function(r,a){H.get(t,{params:e}).then((function(t){r(t)})).catch((function(t){a(t)}))}))},post:function(t,e){return new Promise((function(r,a){H.post(t,e).then((function(t){r(t)})).catch((function(t){a(t)}))}))},delete:function(t,e){return new Promise((function(r,a){H.delete(t,{params:e}).then((function(t){r(t)})).catch((function(t){a(t)}))}))},put:function(t,e){return new Promise((function(r,a){H.put(t,e).then((function(t){r(t)})).catch((function(t){a(t)}))}))}},W=U;function K(t){return W.get("//script.google.com/macros/s/AKfycbwmm6b303YGJvvNXtRR_TP5ErCiX60Y9HOpj9t27l_LFHXYE5o/exec?url=https://www.travel.taipei/open-api/zh-tw/Attractions/All&categoryIds=".concat(t.categoryIds,"&page=").concat(t.page))}a["a"].use(y["a"]);var X={lang:"zh-tw",form:{categoryIds:"",page:"1"},total:0,attractionList:[],attraction:{}},Y={form:function(t){return t.form}},J=(z={},Object(N["a"])(z,D,(function(t,e){t.attraction=t.attractionList.find((function(t){return t.id===parseInt(e,10)}))})),Object(N["a"])(z,q,(function(t,e){t.attractionList=e})),Object(N["a"])(z,B,(function(t,e){t.total=e})),z),V=(G={},Object(N["a"])(G,g,(function(t){var e=t.state,r=t.commit;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,K(e.form);case 2:a=t.sent,n=a.data,i=a.total,r(q,n),r(B,i);case 7:case"end":return t.stop()}}),t)})))()})),Object(N["a"])(G,m,(function(t,e){var r=t.state,a=t.commit,n=t.dispatch;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==r.attractionList.length){t.next=3;break}return t.next=3,n(g);case 3:a(D,e);case 4:case"end":return t.stop()}}),t)})))()})),G),Z=new y["a"].Store({state:X,getters:Y,actions:V,mutations:J}),Q={name:"List",components:{SearchResultTable:P},data:function(){return{}},computed:{},beforeRouteUpdate:function(t,e,r){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",r());case 1:case"end":return t.stop()}}),t)})))()},beforeRouteEnter:function(t,e,r){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Z.dispatch("".concat(g));case 2:return t.abrupt("return",r());case 3:case"end":return t.stop()}}),t)})))()},beforeRouteLeave:function(t,e,r){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r();case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){document.getElementsByTagName("body")[0].classList.add("dom-ready")}},tt=Q,et=Object(o["a"])(tt,d,f,!1,null,null,null),rt=et.exports,at=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"about-wrapper"},[r("header",{staticClass:"about-header"},[r("h3",[t._v(t._s(t.attraction.name))])]),r("div",{staticClass:"about-content"},[r("section",{staticClass:"about-section"},[r("h4",[t._v("景點資訊")]),r("div",{staticClass:"about-info"},[0!==t.attraction.tel.length?r("p",[t._v("電話："+t._s(t.attraction.tel))]):t._e(),0!==t.attraction.address.length?r("p",[t._v(" 地址："+t._s(t.attraction.address)+" "),r("a",{attrs:{href:"https://www.google.com.tw/maps/place/"+t.attraction.address,target:"_blank"}},[t._v("地圖")])]):t._e(),0!==t.attraction.target.length?r("p",[t._v(" 推薦對象： "),t._l(t.attraction.target,(function(e){return r("span",{key:e.id},[t._v(" "+t._s(e.name)+"｜ ")])}))],2):t._e(),0!==t.attraction.service.length?r("p",[t._v(" 服務設施： "),t._l(t.attraction.service,(function(e){return r("span",{key:e.id},[t._v(" "+t._s(e.name)+"｜ ")])}))],2):t._e()])]),r("section",{staticClass:"about-section"},[r("h4",[t._v("景點介紹")]),r("div",{staticClass:"about-intro",domProps:{innerHTML:t._s(t.attractionIntro)}})]),t.attraction.images&&t.attraction.images.length>0?r("section",{staticClass:"about-section"},[r("h4",[t._v("景點照片")]),r("Carousel",{attrs:{items:t.attraction.images},on:{"show-image":t.showModalImage}})],1):t._e()]),r("aside",{staticClass:"about-slider"},[r("TravelMap",{staticClass:"travel-map",attrs:{marker:t.attractionMarker}})],1),r("Modal",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],on:{close:function(e){t.showModal=!1}}},[r("template",{slot:"body"},[r("img",{staticClass:"modal-image",attrs:{src:t.modalImage.src}})]),r("template",{slot:"footer"},[r("p",[t._v(t._s(t.modalImage.subject?t.modalImage.subject:""))])])],2)],1)},nt=[],it=(r("ac1f"),r("5319"),r("6c36")),ot=r.n(it),st=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-carousel-wrapper"},[r("div",{staticClass:"card-carousel--nav__left",attrs:{disabled:t.atHeadOfList},on:{click:function(e){return t.moveCarousel(-1)}}}),r("div",{staticClass:"card-carousel"},[r("div",{staticClass:"card-carousel--overflow-container"},[r("div",{staticClass:"card-carousel-cards",style:{transform:"translateX("+t.currentOffset+"px)"}},t._l(t.items,(function(e,a){return r("div",{key:a,staticClass:"card-carousel--card",on:{click:function(r){return t.showImage(e)}}},[r("figure",[r("img",{attrs:{src:e.src}})])])})),0)])]),r("div",{staticClass:"card-carousel--nav__right",attrs:{disabled:t.atEndOfList},on:{click:function(e){return t.moveCarousel(1)}}})])},ct=[],ut={name:"Carousel",props:{items:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{currentOffset:0,windowSize:3,paginationFactor:220}},computed:{atEndOfList:function(){return this.currentOffset<=-1*this.paginationFactor*(this.items.length-this.windowSize)},atHeadOfList:function(){return 0===this.currentOffset}},methods:{moveCarousel:function(t){1!==t||this.atEndOfList?-1!==t||this.atHeadOfList||(this.currentOffset+=this.paginationFactor):this.currentOffset-=this.paginationFactor},showImage:function(t){this.$emit("show-image",t)}}},lt=ut,dt=(r("8cf1"),Object(o["a"])(lt,st,ct,!1,null,null,null)),ft=dt.exports,pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"modal"}},[r("div",{staticClass:"modal-mask"},[r("div",{staticClass:"modal-wrapper"},[r("div",{staticClass:"modal-container"},[r("div",{staticClass:"modal-header"},[t._t("header"),r("div",{staticClass:"close",on:{click:function(e){return t.$emit("close")}}})],2),r("div",{staticClass:"modal-body"},[t._t("body")],2),r("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])},mt=[],gt={name:"Modal",props:{},data:function(){return{}}},ht=gt,bt=(r("30db"),Object(o["a"])(ht,pt,mt,!1,null,null,null)),vt=bt.exports,yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("GoogleMapLoader",{attrs:{"map-config":t.mapConfig,"api-key":"AIzaSyDKefBO8elLL_dzNOd94xHk93vd0IFAes8"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.google,n=e.map;return[r("GoogleMapMarker",{attrs:{marker:t.marker,google:a,map:n}})]}}])},[t._v(" // insert your google maps api key to render styled map ")])},_t=[],Ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{ref:"googleMap",staticClass:"google-map"}),Boolean(t.google)&&Boolean(t.map)?[t._t("default",null,{google:t.google,map:t.map})]:t._e()],2)},Ct=[],wt=(r("d81d"),r("f464")),Lt=r.n(wt),Rt={name:"GoogleMapsApiLoader",props:{mapConfig:{type:Object,default:function(){}},apiKey:{type:String,default:""}},data:function(){return{google:null,map:null}},mounted:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Lt()({apiKey:t.apiKey});case 2:r=e.sent,t.google=r,t.initializeMap();case 5:case"end":return e.stop()}}),e)})))()},methods:{initializeMap:function(){var t=this.$refs.googleMap;this.map=new this.google.maps.Map(t,this.mapConfig)}}},Et=Rt,Tt=(r("3402"),Object(o["a"])(Et,Ot,Ct,!1,null,"2c89dd36",null)),jt=Tt.exports,kt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div")},At=[],It={props:{google:{type:Object,required:!0},map:{type:Object,required:!0},marker:{type:Object,required:!0}},mounted:function(){var t=this.google.maps.Marker;new t({position:this.marker.position,marker:this.marker,map:this.map})}},xt=It,St=Object(o["a"])(xt,kt,At,!1,null,null,null),Mt=St.exports,Pt={COLOR_POINT:"rgb(243,114,114)",COLOR_POINT_FILL:"rgb(255,255,255)",COLOR_LANDSCAPE:"#FFAD00",COLOR_BORDERS:"rgb(195,230,255)",COLOR_LINE:"rgb(255,255,255)",COLOR_SELECTED_POINT:"rgb(0,184,83)",COLOR_BROWN:"rgb(139,69,19)",COLOR_BLACK:"rgb(0,0,0)",COLOR_BLUE:"rgb(77,109,155)",COLOR_LIGHT_BLUE:"rgb(124,156,201)",COLOR_WHITE:"rgb(255,255,255)",COLOR_WHITEY:"rgb(240,240,240)",COLOR_GREEN:"rgb(0,155,77)",COLOR_TOMATO:"rgb(243,114,114)"},Nt=Pt.COLOR_LANDSCAPE,Dt=Pt.COLOR_BORDERS,qt=Pt.COLOR_WATER,Bt=Pt.COLOR_LINE,$t=Pt.COLOR_POINT_FILL,Ft=Pt.COLOR_SELECTED_POINT,Ht={BORDERS:Dt,LANDSCAPE:Nt,LINE:Bt,POINT:Ft,POINT_FILL:$t,WATER:qt},zt=(Ht.POINT,Ht.POINT_FILL,{path:"M 0,-2 0,2",strokeOpacity:1,strokeWeight:2,scale:1}),Gt=(Ht.LINE,{clickableIcons:!1,streetViewControl:!1,panControlOptions:!1,gestureHandling:"cooperative",backgroundColor:Ht.LANDSCAPE,mapTypeControl:!1,zoomControlOptions:{style:"SMALL"},zoom:16,minZoom:14,maxZoom:20,styles:[{featureType:"landscape",stylers:[{hue:Ht.LANDSCAPE},{saturation:50.2},{lightness:-34.8},{gamma:1}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road.highway",stylers:[{hue:Ht.LANDSCAPE},{saturation:-19.8},{lightness:-1.8},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:Ht.LANDSCAPE},{saturation:72.4},{lightness:-32.6},{gamma:1}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",stylers:[{visibility:"off"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:Ht.BORDERS}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{hue:Ht.WATER},{saturation:-63.2},{lightness:38},{gamma:1}]}]}),Ut={components:{GoogleMapLoader:jt,GoogleMapMarker:Mt},props:{marker:{type:Object,required:!0}},data:function(){return{}},computed:{mapConfig:function(){return Object(v["a"])({},Gt,{center:this.marker.position})}}},Wt=Ut,Kt=Object(o["a"])(Wt,yt,_t,!1,null,null,null),Xt=Kt.exports,Yt={name:"About",components:{Carousel:ft,Modal:vt,TravelMap:Xt},props:{attractionID:{type:String,default:""}},data:function(){return{showModal:!1,modalImage:{}}},computed:Object(v["a"])({},Object(y["b"])({attraction:function(t){return t.attraction}}),{attractionIntro:function(){var t=ot.a.inHTMLData(this.attraction.introduction);return t?t.replace(/(?:\r\n|\r|\n)/g,"<br />"):""},attractionMarker:function(){return{id:this.attraction.id,position:{lat:this.attraction.nlat,lng:this.attraction.elong}}}}),mounted:function(){document.getElementsByTagName("body")[0].classList.add("dom-ready")},methods:{showModalImage:function(t){this.modalImage=t,this.showModal=!0}},beforeRouteUpdate:function(t,e,r){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",r());case 1:case"end":return t.stop()}}),t)})))()},beforeRouteEnter:function(t,e,r){return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Z.dispatch("".concat(m),t.params.attractionID);case 2:return Z.state.attraction||r("/"),e.abrupt("return",r());case 4:case"end":return e.stop()}}),e)})))()},beforeRouteLeave:function(t,e,r){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r();case 1:case"end":return t.stop()}}),t)})))()}},Jt=Yt,Vt=(r("f26d"),Object(o["a"])(Jt,at,nt,!1,null,null,null)),Zt=Vt.exports;a["a"].use(l["a"]);var Qt=[{path:"/",name:"List",component:rt},{path:"/:attractionID",name:"About",props:!0,component:Zt},{path:"*",redirect:"/list"}],te=new l["a"]({mode:"history",base:"/",scrollBehavior:function(){return{y:0}},routes:Qt}),ee=te;r("f5df1"),r("fb98");a["a"].config.productionTip=!1,new a["a"]({router:ee,store:Z,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var a=r("9c0c"),n=r.n(a);n.a},"5f83":function(t,e,r){},"87c2":function(t,e,r){},"8cf1":function(t,e,r){"use strict";var a=r("ba52"),n=r.n(a);n.a},"9c0c":function(t,e,r){},ba52:function(t,e,r){},d149:function(t,e,r){},e60d:function(t,e,r){"use strict";var a=r("e9ec"),n=r.n(a);n.a},e9ec:function(t,e,r){},f26d:function(t,e,r){"use strict";var a=r("5f83"),n=r.n(a);n.a},fb98:function(t,e,r){}});