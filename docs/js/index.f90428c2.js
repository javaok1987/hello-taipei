(function(t){function e(e){for(var n,i,s=e[0],c=e[1],u=e[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={index:0},o=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-libs"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0025":function(t,e,r){},"11bb":function(t,e,r){"use strict";var n=r("d149"),a=r.n(n);a.a},"30db":function(t,e,r){"use strict";var n=r("0025"),a=r.n(n);a.a},3402:function(t,e,r){"use strict";var n=r("87c2"),a=r.n(n);a.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("header",[r("router-link",{attrs:{to:"/"}},[r("h1",{staticClass:"app-logo"},[t._v("臺北旅遊網")])])],1),r("router-view")],1)},o=[],i=(r("5c0b"),r("2877")),s={},c=Object(i["a"])(s,a,o,!1,null,null,null),u=c.exports,l=r("8c4f"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"list"},[r("SearchResultTable")],1)},f=[],p=(r("96cf"),r("1da1")),m="fetchAttractionInfo",g="fetchAttractionList",h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"search-result-table"},t._l(t.tableData,(function(t){return r("Card",{key:t.id,attrs:{aid:t.id,name:t.name,introduction:t.introduction,distric:t.distric,address:t.address,category:t.category,images:t.images}})})),1)},v=[],b=r("5530"),y=r("2f62"),_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("router-link",{staticClass:"card-link",attrs:{to:"./"+t.aid}},[r("div",{staticClass:"card-thumb"},[r("figure",[r("img",{attrs:{src:t.getAvatar,alt:t.name}})]),r("div",{staticClass:"card-content__meta"},[t._v(" "+t._s(t.distric)+" ")])]),r("div",{staticClass:"card-content"},[r("div",{staticClass:"card-content__header",attrs:{title:t.name}},[t._v(t._s(t.name))]),r("div",{staticClass:"card-content__address",attrs:{title:t.address}},[t._v(" "+t._s(t.address)+" ")]),r("div",{staticClass:"card-content__description"},[t._v(" "+t._s(t.introduction)+" ")]),r("TagList",{attrs:{tags:t.category}})],1)])],1)},w=[],O=(r("a9e3"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"tag-list"},t._l(t.tags,(function(e){return r("li",{key:e.id,staticClass:"tag"},[r("span",{domProps:{textContent:t._s(e.name)}})])})),0)}),C=[],j={name:"TagList",props:{tags:{type:Array,required:!1,default:function(){return[]}}}},k=j,x=(r("11bb"),Object(i["a"])(k,O,C,!1,null,"75741924",null)),L=x.exports,M={name:"Card",components:{TagList:L},props:{aid:{type:Number,required:!0,default:0},name:{type:String,required:!0,default:""},introduction:{type:String,required:!1,default:""},distric:{type:String,required:!1,default:""},address:{type:String,required:!1,default:""},category:{type:Array,required:!1,default:function(){return[]}},images:{type:Array,required:!1,default:function(){return[]}},url:{type:String,required:!1,default:""}},computed:{getAvatar:function(){return this.images&&0!==this.images.length?"".concat(this.images[0].src):""}}},R=M,T=(r("e60d"),Object(i["a"])(R,_,w,!1,null,null,null)),E=T.exports,S={name:"SearchResultTable",components:{Card:E},props:{items:{type:String,required:!1,default:"array"}},computed:Object(b["a"])({},Object(y["b"])({searchForm:function(t){return t.form},tableData:function(t){return t.attractionList},totalLen:function(t){return t.total}}))},A=S,I=Object(i["a"])(A,h,v,!1,null,null,null),P=I.exports,q=(r("7db0"),r("ade3")),$="setAttractionID",z="setAttractionList",D="setAttractionListSize",H=(r("99af"),r("d3b7"),r("bc3a")),B=r.n(H),N=B.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_API,timeout:15e3,headers:{"Content-Type":"text/html; charset=utf-8"}});N.interceptors.request.use((function(t){return t}),(function(t){return window.console.log("debug(request): ",t),Promise.reject(t)})),N.interceptors.response.use((function(t){return t.data}),(function(t){return window.console.log("debug(response): ",t),Promise.reject(t)}));var F,G,K={get:function(t,e){return new Promise((function(r,n){N.get(t,{params:e}).then((function(t){r(t)})).catch((function(t){n(t)}))}))},post:function(t,e){return new Promise((function(r,n){N.post(t,e).then((function(t){r(t)})).catch((function(t){n(t)}))}))},delete:function(t,e){return new Promise((function(r,n){N.delete(t,{params:e}).then((function(t){r(t)})).catch((function(t){n(t)}))}))},put:function(t,e){return new Promise((function(r,n){N.put(t,e).then((function(t){r(t)})).catch((function(t){n(t)}))}))}},U=K;function X(t){return U.get("//script.google.com/macros/s/AKfycbwmm6b303YGJvvNXtRR_TP5ErCiX60Y9HOpj9t27l_LFHXYE5o/exec?url=https://www.travel.taipei/open-api/zh-tw/Attractions/All&categoryIds=".concat(t.categoryIds,"&page=").concat(t.page))}n["a"].use(y["a"]);var J={lang:"zh-tw",form:{categoryIds:"",page:"1"},total:0,attractionList:[],attraction:{}},V={form:function(t){return t.form}},Y=(F={},Object(q["a"])(F,$,(function(t,e){t.attraction=t.attractionList.find((function(t){return t.id===parseInt(e,10)}))})),Object(q["a"])(F,z,(function(t,e){t.attractionList=e})),Object(q["a"])(F,D,(function(t,e){t.total=e})),F),Z=(G={},Object(q["a"])(G,g,(function(t){var e=t.state,r=t.commit;return Object(p["a"])(regeneratorRuntime.mark((function t(){var n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,X(e.form);case 2:n=t.sent,a=n.data,o=n.total,r(z,a),r(D,o);case 7:case"end":return t.stop()}}),t)})))()})),Object(q["a"])(G,m,(function(t,e){var r=t.state,n=t.commit,a=t.dispatch;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==r.attractionList.length){t.next=3;break}return t.next=3,a(g);case 3:n($,e);case 4:case"end":return t.stop()}}),t)})))()})),G),Q=new y["a"].Store({state:J,getters:V,actions:Z,mutations:Y}),W={name:"List",components:{SearchResultTable:P},data:function(){return{}},computed:{},beforeRouteUpdate:function(t,e,r){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",r());case 1:case"end":return t.stop()}}),t)})))()},beforeRouteEnter:function(t,e,r){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Q.dispatch("".concat(g));case 2:return t.abrupt("return",r());case 3:case"end":return t.stop()}}),t)})))()},beforeRouteLeave:function(t,e,r){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r();case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){document.getElementsByTagName("body")[0].classList.add("dom-ready")}},tt=W,et=Object(i["a"])(tt,d,f,!1,null,null,null),rt=et.exports,nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"about-wrapper"},[r("header",{staticClass:"about-header"},[r("h3",[t._v(t._s(t.attraction.name))])]),r("div",{staticClass:"about-content"},[r("section",{staticClass:"about-section"},[r("h4",[t._v("景點資訊")]),r("div",{staticClass:"about-info"},[0!==t.attraction.tel.length?r("p",[t._v("電話："+t._s(t.attraction.tel))]):t._e(),0!==t.attraction.address.length?r("p",[t._v(" 地址："+t._s(t.attraction.address)+" "),r("a",{attrs:{href:"https://www.google.com.tw/maps/dir//"+t.attraction.nlat+","+t.attraction.elong,target:"_blank"}},[t._v("導航")])]):t._e(),0!==t.attraction.target.length?r("p",[t._v(" 推薦對象： "),t._l(t.attraction.target,(function(e){return r("span",{key:e.id},[t._v(" "+t._s(e.name)+"｜ ")])}))],2):t._e(),0!==t.attraction.service.length?r("p",[t._v(" 服務設施： "),t._l(t.attraction.service,(function(e){return r("span",{key:e.id},[t._v(" "+t._s(e.name)+"｜ ")])}))],2):t._e()])]),r("section",{staticClass:"about-section"},[r("h4",[t._v("景點介紹")]),r("div",{staticClass:"about-intro",domProps:{innerHTML:t._s(t.attractionIntro)}})]),t.attraction.images&&t.attraction.images.length>0?r("section",{staticClass:"about-section"},[r("h4",[t._v("景點照片")]),r("Carousel",{attrs:{items:t.attraction.images},on:{"show-image":t.showModalImage}})],1):t._e()]),r("aside",{staticClass:"about-slider"},[r("TravelMap",{staticClass:"travel-map",attrs:{marker:t.attractionMarker}})],1),r("Modal",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],on:{close:function(e){t.showModal=!1}}},[r("template",{slot:"body"},[r("img",{staticClass:"modal-image",attrs:{src:t.modalImage.src}})]),r("template",{slot:"footer"},[r("p",[t._v(t._s(t.modalImage.subject?t.modalImage.subject:""))])])],2)],1)},at=[],ot=(r("ac1f"),r("5319"),r("6c36")),it=r.n(ot),st=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-carousel-wrapper"},[r("div",{staticClass:"card-carousel--nav__left",attrs:{disabled:t.atHeadOfList},on:{click:function(e){return t.moveCarousel(-1)}}}),r("div",{staticClass:"card-carousel"},[r("div",{staticClass:"card-carousel--overflow-container"},[r("div",{staticClass:"card-carousel-cards",style:{transform:"translateX("+t.currentOffset+"px)"}},t._l(t.items,(function(e,n){return r("div",{key:n,staticClass:"card-carousel--card",on:{click:function(r){return t.showImage(e)}}},[r("figure",[r("img",{attrs:{src:e.src}})])])})),0)])]),r("div",{staticClass:"card-carousel--nav__right",attrs:{disabled:t.atEndOfList},on:{click:function(e){return t.moveCarousel(1)}}})])},ct=[],ut={name:"Carousel",props:{items:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{currentOffset:0,windowSize:3,paginationFactor:220}},computed:{atEndOfList:function(){return this.currentOffset<=-1*this.paginationFactor*(this.items.length-this.windowSize)},atHeadOfList:function(){return 0===this.currentOffset}},methods:{moveCarousel:function(t){1!==t||this.atEndOfList?-1!==t||this.atHeadOfList||(this.currentOffset+=this.paginationFactor):this.currentOffset-=this.paginationFactor},showImage:function(t){this.$emit("show-image",t)}}},lt=ut,dt=(r("8cf1"),Object(i["a"])(lt,st,ct,!1,null,null,null)),ft=dt.exports,pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"modal"}},[r("div",{staticClass:"modal-mask"},[r("div",{staticClass:"modal-wrapper"},[r("div",{staticClass:"modal-container"},[r("div",{staticClass:"modal-header"},[t._t("header"),r("div",{staticClass:"close",on:{click:function(e){return t.$emit("close")}}})],2),r("div",{staticClass:"modal-body"},[t._t("body")],2),r("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])},mt=[],gt={name:"Modal",props:{},data:function(){return{}}},ht=gt,vt=(r("30db"),Object(i["a"])(ht,pt,mt,!1,null,null,null)),bt=vt.exports,yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("GoogleMapLoader",{attrs:{"map-config":t.mapConfig,"api-key":"AIzaSyDKefBO8elLL_dzNOd94xHk93vd0IFAes8"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.google,a=e.map;return[r("GoogleMapMarker",{attrs:{marker:t.marker,google:n,map:a}})]}}])},[t._v(" // insert your google maps api key to render styled map ")])},_t=[],wt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{ref:"googleMap",staticClass:"google-map"}),Boolean(t.google)&&Boolean(t.map)?[t._t("default",null,{google:t.google,map:t.map})]:t._e()],2)},Ot=[],Ct=(r("d81d"),r("f464")),jt=r.n(Ct),kt={name:"GoogleMapsApiLoader",props:{mapConfig:{type:Object,default:function(){}},apiKey:{type:String,default:""}},data:function(){return{google:null,map:null}},mounted:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,jt()({apiKey:t.apiKey});case 2:r=e.sent,t.google=r,t.initializeMap();case 5:case"end":return e.stop()}}),e)})))()},methods:{initializeMap:function(){var t=this.$refs.googleMap;this.map=new this.google.maps.Map(t,this.mapConfig)}}},xt=kt,Lt=(r("3402"),Object(i["a"])(xt,wt,Ot,!1,null,"2c89dd36",null)),Mt=Lt.exports,Rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div")},Tt=[],Et={props:{google:{type:Object,required:!0},map:{type:Object,required:!0},marker:{type:Object,required:!0}},mounted:function(){var t=this.google.maps.Marker;new t({position:this.marker.position,marker:this.marker,map:this.map})}},St=Et,At=Object(i["a"])(St,Rt,Tt,!1,null,null,null),It=At.exports,Pt={clickableIcons:!1,streetViewControl:!1,panControlOptions:!1,gestureHandling:"cooperative",backgroundColor:"#e0efef",mapTypeControl:!1,zoomControlOptions:{style:"SMALL"},zoom:16,minZoom:10,maxZoom:20,styles:[{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#e0efef"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{hue:"#1900ff"},{color:"#c0e8e8"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{visibility:"on"},{lightness:700}]},{featureType:"water",elementType:"all",stylers:[{color:"#7dcdcd"}]}]},qt={components:{GoogleMapLoader:Mt,GoogleMapMarker:It},props:{marker:{type:Object,required:!0}},data:function(){return{}},computed:{mapConfig:function(){return Object(b["a"])({},Pt,{center:this.marker.position})}}},$t=qt,zt=Object(i["a"])($t,yt,_t,!1,null,null,null),Dt=zt.exports,Ht={name:"About",components:{Carousel:ft,Modal:bt,TravelMap:Dt},props:{attractionID:{type:String,default:""}},data:function(){return{showModal:!1,modalImage:{}}},computed:Object(b["a"])({},Object(y["b"])({attraction:function(t){return t.attraction}}),{attractionIntro:function(){var t=it.a.inHTMLData(this.attraction.introduction);return t?t.replace(/(?:\r\n|\r|\n)/g,"<br />"):""},attractionMarker:function(){return{id:this.attraction.id,position:{lat:this.attraction.nlat,lng:this.attraction.elong}}}}),mounted:function(){document.getElementsByTagName("body")[0].classList.add("dom-ready")},methods:{showModalImage:function(t){this.modalImage=t,this.showModal=!0}},beforeRouteUpdate:function(t,e,r){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",r());case 1:case"end":return t.stop()}}),t)})))()},beforeRouteEnter:function(t,e,r){return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Q.dispatch("".concat(m),t.params.attractionID);case 2:if(Q.state.attraction){e.next=4;break}return e.abrupt("return",r("./"));case 4:return e.abrupt("return",r());case 5:case"end":return e.stop()}}),e)})))()},beforeRouteLeave:function(t,e,r){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r();case 1:case"end":return t.stop()}}),t)})))()}},Bt=Ht,Nt=(r("f26d"),Object(i["a"])(Bt,nt,at,!1,null,null,null)),Ft=Nt.exports;n["a"].use(l["a"]);var Gt=[{path:"/",name:"List",component:rt},{path:"/:attractionID",name:"About",props:!0,component:Ft},{path:"*",redirect:"/"}],Kt=new l["a"]({mode:"history",base:"/",scrollBehavior:function(){return{y:0}},routes:Gt}),Ut=Kt;r("f5df1"),r("fb98");n["a"].config.productionTip=!1,new n["a"]({router:Ut,store:Q,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},"5f83":function(t,e,r){},"87c2":function(t,e,r){},"8cf1":function(t,e,r){"use strict";var n=r("ba52"),a=r.n(n);a.a},"9c0c":function(t,e,r){},ba52:function(t,e,r){},d149:function(t,e,r){},e60d:function(t,e,r){"use strict";var n=r("e9ec"),a=r.n(n);a.a},e9ec:function(t,e,r){},f26d:function(t,e,r){"use strict";var n=r("5f83"),a=r.n(n);a.a},fb98:function(t,e,r){}});